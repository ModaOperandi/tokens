@import "utilities";
@import "variables";

@function font-family($key) {
  @return __fetch__(map-get($typography, "fonts"), $key);
}

@function color($key, $opacity: null) {
  $value: __fetch__(map-get($colors, "all"), $key);
  @if $opacity {
    @return rgba($value, $opacity);
  } @else {
    @return $value;
  }
}

@function letter-spacing($index) {
  @return __access__(map-get($typography, "letter-spacing"), $index);
}

@function line-height($index) {
  @return __access__(map-get($typography, "line-heights"), $index);
}

@function font-size($index) {
  @return __access__(map-get($typography, "font-scale"), $index);
}

@function space($indexOrKey) {
  @if type-of($indexOrKey) != number {
    @return __fetch__(map-get($space, "map"), $indexOrKey);
  }

  @return __access__(map-get($space, "scale"), $indexOrKey);
}

@function text-treatment($key) {
  @return __fetch__(map-get($typography, "text-treatments"), $key);
}

@function strip-units($number) {
  @return $number / ($number * 0 + 1);
}

/// @param {prop (string)} $prop
///   The 0-based index to access
/// @param {list | bool} $list
///   Either list of properties
/// @return {string | null} declares !important or not
@function important($important: false, $prop: null) {
  @if type-of($important) == bool {
    @return if($important, !important, null);
  }

  @if type-of($important) == list {
    @return if(index($important, $prop), !important, null);
  }

  @return null;
}
