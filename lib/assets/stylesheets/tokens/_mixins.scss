@import "variables";
@import "functions";

@mixin compound($map, $important: false) {
  @each $prop, $value in $map {
    @if type-of($value) == string {
      #{$prop}: #{unquote($value)} if($important, !important, null);
    } @else {
      #{$prop}: #{$value} if($important, !important, null);
    }
  }
}

@mixin breakpoint($key, $prop: min-width) {
  $number-of-px-in-one-rem: strip-units($root-font-size);
  $one-px-in-rem-unit: 1 / $number-of-px-in-one-rem;

  @if $prop == max-width {
    @media (#{$prop}: __fetch__($breakpoints, $key)) {
      @content;
    }
  }

  @if $prop == min-width {
    @media (#{$prop}: (__fetch__($breakpoints, $key) + $one-px-in-rem-unit)) {
      @content;
    }
  }
}

@mixin text($key, $font: sans, $important: false) {
  font-family: font-family($font) if($important, !important, null);
  @include compound(text-treatment($key), $important);
}
